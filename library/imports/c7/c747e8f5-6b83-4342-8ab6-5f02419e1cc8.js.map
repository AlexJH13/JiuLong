{"version":3,"sources":["assets/Script/Game.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport Cell from \"./Cell\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Game extends cc.Component {\n\n    @property(cc.Prefab)\n    cellPrefab: cc.Prefab = null;\n\n    @property(cc.Node)\n    mainNode: cc.Node = null;\n\n    // 5*7 的二维数组\n    matrix: cc.Node[][]  = [];\n\n    \n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.node.on(cc.Node.EventType.TOUCH_START, this.touchStart.bind(this), this);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.touchMoved.bind(this), this);\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touchEnded.bind(this), this);\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.touchEnded.bind(this), this);\n    }\n\n    start () {\n        this.createGame();\n    }\n\n    private createGame(): void {\n        for (let row = 0; row < 7; row++) {\n            let rowArray = []\n            for (let clo = 0; clo < 5; clo++) {\n                let node = cc.instantiate(this.cellPrefab);\n                let cell = node.getComponent(Cell);\n                cell.matrix = cc.v2(row, clo);\n                cell.value = Math.pow(2, this.getRandomIntInclusive(1, 7));\n                node.parent = this.mainNode;\n                rowArray.push(node);\n            }\n            this.matrix.push(rowArray);\n        }\n    }\n\n    private getRandomIntInclusive(min: number, max: number): number {\n        // 确保 min 和 max 是整数\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min + 1)) + min; // 包含 min 和 max\n    }\n\n    private touchStart(event: cc.Event.EventTouch): void {\n        for (let row = 0; row < 7; row++) {\n            for (let clo = 0; clo < 5; clo++) {\n                if(this.matrix[row][clo].getBoundingBoxToWorld().contains(event.getLocation())) {\n                    cc.log(row, clo);\n                    return;\n                }\n            }\n        }\n    }\n\n    private touchMoved(event: cc.Event.EventTouch): void {\n\n    }\n\n    private touchEnded(event: cc.Event.EventTouch): void {\n\n    }\n\n    // update (dt) {}\n}\n"]}